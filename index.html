<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>Bilder's 3D Archive</title>

  <!-- A-Frame -->
  <!-- <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script> -->
  <script src="https://aframe.io/releases/1.7.1/aframe.min.js"></script>


</head>

<body>


<a-scene id="scene">

  <!-- ã‚¢ã‚»ãƒƒãƒˆç®¡ç† -->
  <a-assets>
    <img id="sky" src="assets/kloppenheim_06_puresky_small.jpg">
    <video id="movie" src="assets/TEST-1.mp4" loop muted playsinline></video>
    <!-- <a-asset-item id="dome" src="assets/BOD_v3_Env.glb"></a-asset-item> -->
    <a-asset-item id="screen" src="assets/BOD_v3_Screen.glb"></a-asset-item>
  </a-assets>

  <!-- ç©ºï¼ˆå›žè»¢ã§å‘ãèª¿æ•´ï¼‰ -->
  <a-sky src="#sky" rotation="0 -90 0"></a-sky>

	
  <a-gltf-model
    src="#screen"
    position="0 2 0"
    scale="2 2 2"
	material="src:#movie">
  </a-gltf-model>

  <!-- å‹•ç”»ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ -->
  <a-plane
    position="0 2 -4"
    width="3"
    height="1.7"
    material="src: #movie">
  </a-plane>

<script>
document.body.addEventListener('click', () => {
  document.getElementById('movie').play();
}, { once: true });

const scene = document.getElementById('scene');

scene.addEventListener('loaded', () => {
  const model = document.querySelector('[gltf-model]');
  if (!model) {
    console.error('gltf-model ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“');
    return;
  }

  model.addEventListener('model-loaded', () => {
    const root = model.getObject3D('mesh');
    if (!root) {
      console.error('mesh ãŒå–å¾—ã§ãã¾ã›ã‚“');
      return;
    }

    // ðŸ” æ§‹é€ ãƒ­ã‚°
    root.traverse(obj => {
      console.log(
        'name:', obj.name,
        'type:', obj.type,
        'material:', obj.material
      );
    });
  });
});
</script>



</body>
</html>
